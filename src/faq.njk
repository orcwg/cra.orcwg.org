---
layout: layout.njk
pagination:
  data: data.faqItems
  size: 1
  alias: item
permalink: "{{ item.permalink }}"
eleventyComputed:
  title: "{{ item.pageTitle }}"
---

<article class="faq-main-content" data-status="{{ item.status }}" {% if item.guidanceItem %}data-has-guidance="true"{% endif %}>
  <h1>{{ item.question | markdownInline | safe }}</h1>
  {{ item.answer | markdown | safe }}

  {% if item.status == "draft" or item.guidanceItem %}
  <aside class="faq-warnings">
    {% if item.status == "draft" %}
    <div class="faq-warning">
      <p><strong>This FAQ is a draft</strong> - it hasn't been reviewed by the FAQ Task Force. The answer may be incomplete or incorrect.</p>
    </div>
    {% endif %}

    {% if item.guidanceItem %}
    <div class="faq-warning faq-guidance">
      <p><strong>Pending Guidance</strong></p>
      {% if item.guidanceItem.guidanceText %}
        <div class="guidance-content">
          <p>This FAQ awaits commission guidance on:</p>
          <p class="guidance-phrase">{{ item.guidanceItem.guidanceText | truncate(300) }}</p>
        </div>
        <div class="guidance-actions">
          <a href="{{ item.guidanceItem.permalink }}" class="guidance-link">View full guidance request →</a>
        </div>
      {% else %}
        <p>This FAQ awaits commission guidance.</p>
      {% endif %}
    </div>
    {% endif %}
  </aside>
  {% endif %}
</article>

<button class="admin-toggle" onclick="toggleAdminMode()" title="Toggle admin information">
  ✏️
</button>

<div class="admin-info" style="display: none;">
  {% if item["guidance-id"] %}
  <div class="pending-guidance-link">
    <strong>Related Pending Guidance:</strong> <a href="{{ item.guidanceItem.permalink }}">{{ item["guidance-id"] | replace('-', ' ') | title }}</a>
    <p><em>This FAQ is affected by pending guidance that is currently being developed.</em></p>
  </div>
  {% endif %}

  {% if item["Related issue"] %}
  <div class="related-issue">
    <strong>Related issue:</strong> <a href="{{ item["Related issue"] }}">{{ item["Related issue"] }}</a>
  </div>
  {% endif %}

  <div class="edit-on-github">
    <span class="edit-icon">✏️</span>
    <a href="https://github.com/orcwg/cra-hub/edit/main/faq/{{ item.category }}/{{ item.filename }}" target="_blank" rel="noopener">Edit this FAQ on GitHub</a>
  </div>
</div>

<script>
function toggleAdminMode() {
  const adminInfo = document.querySelector('.admin-info');
  const button = document.querySelector('.admin-toggle');

  if (adminInfo.style.display === 'none' || adminInfo.style.display === '') {
    adminInfo.style.display = 'block';
    button.classList.add('active');
    button.title = 'Hide admin information';
  } else {
    adminInfo.style.display = 'none';
    button.classList.remove('active');
    button.title = 'Toggle admin information';
  }
}
</script>
