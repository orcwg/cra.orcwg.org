---
layout: layout.njk
pagination:
  data: faqItems
  size: 1
  alias: item
permalink: "/faq/{{ item.category }}/{{ item.filename | replace('.md', '') }}/"
eleventyComputed:
  title: "{{ item.question }}"
---

<div class="question">
  <h2>{{ item.question | markdown | safe }}</h2>
</div>

<div class="answer">
  {{ item.answer | markdown | safe }}
</div>

{% if "draft" in item.Status %}
<div class="faq-status-display">
  <p><strong>‚ö†Ô∏è This FAQ is a draft</strong> - it hasn't been reviewed by the FAQ Task Force. The answer may be incomplete or incorrect.</p>
</div>
{% endif %}

{% if ("pending-guidance" in item.Status) or item["pending-guidance"] %}
<div class="faq-status-display">
  <p><strong>üõë Pending Guidance</strong></p>
  {% if item["pending-guidance"] %}
    {% for guidanceItem in pendingGuidance %}
      {% if guidanceItem.filename == item["pending-guidance"] + ".md" %}
        {% if guidanceItem.content or guidanceItem.answer %}
          <div class="guidance-content">
            {% if guidanceItem.guidanceText %}
              <p>This FAQ awaits commission guidance on:</p>
              <p class="guidance-phrase">{{ guidanceItem.guidanceText | truncate(300) }}</p>
            {% else %}
              <p>This FAQ awaits commission guidance.</p>
            {% endif %}
          </div>
          <div class="guidance-actions">
            <a href="/pending-guidance/{{ item["pending-guidance"] }}/" class="guidance-link">View full guidance request ‚Üí</a>
          </div>
        {% else %}
          <p>This FAQ awaits commission guidance.</p>
        {% endif %}
      {% endif %}
    {% endfor %}
  {% else %}
    <p>This FAQ awaits commission guidance.</p>
  {% endif %}
</div>
{% endif %}

<button class="admin-toggle" onclick="toggleAdminMode()" title="Toggle admin information">
  ‚úèÔ∏è
</button>

<div class="admin-info" style="display: none;">
  {% if item["pending-guidance"] %}
  <div class="pending-guidance-link">
    <strong>üõë Related Pending Guidance:</strong> <a href="/pending-guidance/{{ item["pending-guidance"] }}/">{{ item["pending-guidance"] | replace('-', ' ') | title }}</a>
    <p><em>This FAQ is affected by pending guidance that is currently being developed.</em></p>
  </div>
  {% endif %}

  {% if item["Related issue"] %}
  <div class="related-issue">
    <strong>Related issue:</strong> <a href="{{ item["Related issue"] }}">{{ item["Related issue"] }}</a>
  </div>
  {% endif %}

  <div class="edit-on-github">
    <span class="edit-icon">‚úèÔ∏è</span>
    <a href="https://github.com/orcwg/cra-hub/edit/main/faq/{{ item.category }}/{{ item.filename }}" target="_blank" rel="noopener">Edit this FAQ on GitHub</a>
  </div>
</div>

<script>
function toggleAdminMode() {
  const adminInfo = document.querySelector('.admin-info');
  const button = document.querySelector('.admin-toggle');

  if (adminInfo.style.display === 'none' || adminInfo.style.display === '') {
    adminInfo.style.display = 'block';
    button.classList.add('active');
    button.title = 'Hide admin information';
  } else {
    adminInfo.style.display = 'none';
    button.classList.remove('active');
    button.title = 'Toggle admin information';
  }
}
</script>
