{#
  FAQ Accordion Component -  Minimal Markup

  Parameters (set via componentData variable):
  - title: Section title to display
  - children: Array of FAQs and sublists
  - description: Optional description text
  - icon: Optional icon to display before title
#}

{% if not componentData.isRoot %}
<article class="section-card">
  <h2>
    {% if componentData.icon %}{{ componentData.icon }} {% endif %}{{ componentData.title }}
  </h2>

  {% if componentData.description %}
    <p>{{ componentData.description }}</p>
  {% endif %}
{% endif %}

{% for item in componentData.children %}
  {% if item.type == 'list' %}
    {# Nested list item - render as card #}
    <div class="list-card-wrapper">
      {% set listData = item %}
      {% include "components/list-card.njk" %}
    </div>
  {% else %}
    {# FAQ item #}
    {% set faq = item %}
    <details class="faq-accordion-item" name="faq-accordion">
      <summary>
        <span class="question-text">{{ faq.question | markdownInline | safe }}</span>
      </summary>

      <article>
        <div>
          {{ faq.answer | markdown | safe }}

          {% include "components/faq-warning.njk" %}
          {% set item = faq %}
          {% include "components/actions.njk" %}
        </div>
      </article>
    </details>
  {% endif %}
{% else %}
  {% if list.emptyMsg %}
    {{ list.emptyMsg | markdown | safe }}
  {% else %}
    <p>No FAQs in this category yet.</p>
  {% endif %}
{% endfor %}
    {% set item = componentData %}
    {% include "components/actions.njk" %}

{% if not componentData.isRoot %}
</article>
{% endif %}
